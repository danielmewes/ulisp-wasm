var p=Object.defineProperty;var i=(a,c)=>p(a,"name",{value:c,configurable:!0});(function(){"use strict";(function(){const t={NODE_ENV:"production"};try{if(process){process.env=Object.assign({},process.env),Object.assign(process.env,t);return}}catch{}globalThis.process={env:t}})();var a=Object.defineProperty,c=i((t,e)=>a(t,"name",{value:e,configurable:!0}),"i");const n=document.getElementById("console"),u=document.getElementById("canvas"),s=window.Module={print:function(){if(n)return n.value="",(...t)=>{const e=t.join(" ").split(`
`);for(const o of e)if(o.startsWith("json:")){console.log(o);try{const r=JSON.parse(o.replace(/^json:/,""));console.log("Got value",r)}catch(r){console.log(r)}}else o&&(console.log(o),n.innerText+=o+`
`,n.scrollTop=n.scrollHeight)}}(),canvas:(()=>{if(u)return u})(),setStatus:t=>{if(s.setStatus.last||(s.setStatus.last={time:Date.now(),text:""}),t===s.setStatus.last.text)return;const e=t.match(/([^(]+)\((\d+(\.\d+)?)\/(\d+)\)/),o=Date.now();e&&o-s.setStatus.last.time<30||(s.setStatus.last.time=o,s.setStatus.last.text=t,e&&(t=e[1]),t&&console.log("uLisp",t))},totalDependencies:0};window.onerror=t=>{s.setStatus("Exception thrown, see JavaScript console"),s.setStatus=e=>{e&&console.error("[post-exception status] "+e)}},s.onRuntimeInitialized=function(){s._setup(),window.ulisp={run:l,call(t,...e){switch(console.log("ulisp.call",t,...e),t){case"analogRead":return e[0]/2;case"analogWrite":break;case"digitalRead":return e[0]}}},l("(+ 1 (* 2 3))")};function l(t){const e=s.allocate(s.intArrayFromString(t),s.ALLOC_NORMAL);s.print(`
> `+t+`
`),s._evaluate(e),s._free(e)}i(l,"c"),c(l,"run")})();
